{"ast":null,"code":"var _jsxFileName = \"/Users/yong/development/projects/rtv-mern-app/client/src/components/IssueCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport CommentForm from './CommentForm.js';\nimport UpArrow from '../images/icons8-up-48.png';\nimport DownArrow from '../images/icons8-down-48.png';\nimport { UserContext } from '../context/UserProvider.js';\nimport { userAxios } from '../context/UserProvider';\nimport IssueForm from './IssueForm.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst IssueCard = props => {\n  _s();\n\n  const {\n    title,\n    description,\n    _id,\n    comment,\n    imgUrl,\n    upvotes,\n    downvotes\n  } = props;\n  const {\n    deleteIssue,\n    getUserIssues,\n    editIssue\n  } = useContext(UserContext);\n  const [upvotesCount, setUpvotesCount] = useState(upvotes.length);\n  const [downvotesCount, setDownvotesCount] = useState(downvotes.length);\n  const [editToggle, setEditToggle] = useState(false);\n  useEffect(() => {\n    getUserIssues();\n  }, [downvotesCount, upvotesCount]);\n\n  const handleUpvote = () => {\n    userAxios.put(`/api/issue/upvote/${_id}`).then(res => {\n      console.log(`this is res.data.upvotes ${res.data.upvotes}`);\n      setUpvotesCount(res.data.upvotes.length);\n      setDownvotesCount(res.data.downvotes.length);\n    }).catch(err => console.log(err));\n  };\n\n  const handleDownvote = () => {\n    userAxios.put(`/api/issue/downvote/${_id}`).then(res => {\n      console.log(res.data.downvotes);\n      setDownvotesCount(res.data.downvotes.length);\n      setUpvotesCount(res.data.upvotes.length);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"issue\",\n    style: cardStyle,\n    children: !editToggle ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: \"25px\"\n        },\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: \"10px 0\"\n        },\n        children: description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imgUrl,\n        style: imgStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: btnDelStyle,\n        onClick: () => deleteIssue(_id),\n        children: \"delete issue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: btnEditStyle,\n        onClick: () => setEditToggle(prevToggle => !prevToggle),\n        children: \"edit issue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Upvote: \", upvotesCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: UpArrow,\n        style: {\n          width: \"36px\",\n          height: \"36px\"\n        },\n        onClick: handleUpvote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Votes: \", upvotesCount + downvotesCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: DownArrow,\n        style: {\n          width: \"36px\",\n          height: \"36px\"\n        },\n        onClick: handleDownvote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Downvote: \", downvotesCount, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: comment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(CommentForm, {\n        _id: _id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(IssueForm, {\n        title: title,\n        description: description,\n        imgUrl: imgUrl,\n        btnText: \"Submit Edit\",\n        _id: _id,\n        submit: editIssue,\n        handleClose: setEditToggle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditToggle(prevToggle => !prevToggle),\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(IssueCard, \"bKFUpGMrAAyLQolifAnLdf9gzvc=\");\n\n_c = IssueCard;\nexport default IssueCard;\nconst cardStyle = {\n  border: \"1px solid black\",\n  padding: \"2em\",\n  margin: \"2em\",\n  borderRadius: \"10px\",\n  width: \"300px\"\n};\nconst imgStyle = {\n  maxHeight: \"500px\",\n  maxWidth: \"500px\",\n  margin: \"12px 0\"\n};\nconst btnDelStyle = {\n  margin: \"10px 0\",\n  padding: \"10px\",\n  width: \"80%\"\n};\nconst btnEditStyle = {\n  margin: \"10px 0\",\n  padding: \"10px\",\n  width: \"80%\"\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"IssueCard\");","map":{"version":3,"names":["React","useContext","useState","useEffect","CommentForm","UpArrow","DownArrow","UserContext","userAxios","IssueForm","IssueCard","props","title","description","_id","comment","imgUrl","upvotes","downvotes","deleteIssue","getUserIssues","editIssue","upvotesCount","setUpvotesCount","length","downvotesCount","setDownvotesCount","editToggle","setEditToggle","handleUpvote","put","then","res","console","log","data","catch","err","handleDownvote","cardStyle","fontSize","margin","imgStyle","btnDelStyle","btnEditStyle","prevToggle","width","height","border","padding","borderRadius","maxHeight","maxWidth"],"sources":["/Users/yong/development/projects/rtv-mern-app/client/src/components/IssueCard.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\nimport CommentForm from './CommentForm.js'\nimport UpArrow from '../images/icons8-up-48.png'\nimport DownArrow from '../images/icons8-down-48.png'\nimport { UserContext } from '../context/UserProvider.js'\nimport {userAxios} from '../context/UserProvider'\nimport IssueForm from './IssueForm.js'\n\n\nconst IssueCard = (props) => {\n\n    const { title, description, _id, comment, imgUrl, upvotes, downvotes } = props\n    const { deleteIssue, getUserIssues, editIssue } = useContext(UserContext)\n    const [upvotesCount, setUpvotesCount] = useState(upvotes.length)\n    const [downvotesCount, setDownvotesCount] = useState(downvotes.length)\n    const [editToggle, setEditToggle] = useState(false)\n\n\n    useEffect(() => {\n        getUserIssues()\n    }, [downvotesCount, upvotesCount])\n\n\n    const handleUpvote = () => {\n        userAxios.put(`/api/issue/upvote/${_id}`)\n        .then(res => {\n            console.log(`this is res.data.upvotes ${res.data.upvotes}`)\n            setUpvotesCount(res.data.upvotes.length)\n            setDownvotesCount(res.data.downvotes.length)\n        })\n        .catch(err => console.log(err))\n\n    }\n    const handleDownvote = () => {\n        userAxios.put(`/api/issue/downvote/${_id}`)\n        .then(res => {\n            console.log(res.data.downvotes)\n            setDownvotesCount(res.data.downvotes.length)\n            setUpvotesCount(res.data.upvotes.length)\n        })\n        .catch(err => console.log(err))\n\n    }\n\n    return (\n        <div className=\"issue\" style={cardStyle}>\n            { !editToggle ?\n                <>\n                    <h1 style= {{fontSize: \"25px\"}}>{title}</h1>\n                    <p style={{margin: \"10px 0\"}}>{description}</p>\n                    <img src={imgUrl} style={imgStyle}></img>\n                    <button style={btnDelStyle} onClick={() => deleteIssue(_id)}>delete issue</button>\n                    <button style={btnEditStyle} onClick={() => setEditToggle(prevToggle => !prevToggle)}>edit issue</button>\n                    <p>Upvote: {upvotesCount}</p>\n                    <img src={UpArrow} style={{width: \"36px\", height: \"36px\"}} onClick={handleUpvote}/>\n                    <p>Total Votes: { upvotesCount + downvotesCount }</p>\n                    <img src={DownArrow} style={{width: \"36px\", height: \"36px\"}} onClick={handleDownvote}/>\n                    <p>Downvote: {downvotesCount} </p>\n                    <h4>{comment}</h4>\n                    <CommentForm _id={_id}/>\n                </>\n            :\n                <>\n                    <IssueForm\n                        title={title}\n                        description={description}\n                        imgUrl={imgUrl}\n                        btnText=\"Submit Edit\"\n                        _id={_id}\n                        submit={editIssue}\n                        handleClose={setEditToggle}\n                    />\n                    <button onClick={() => setEditToggle(prevToggle => !prevToggle)}>Close</button>\n                </>\n            }\n        </div>\n    )\n}\n\nexport default IssueCard\n\nconst cardStyle = {\n    border: \"1px solid black\",\n    padding: \"2em\",\n    margin: \"2em\",\n    borderRadius: \"10px\",\n    width: \"300px\"\n}\n\nconst imgStyle = {\n    maxHeight: \"500px\",\n    maxWidth: \"500px\",\n    margin: \"12px 0\"\n}\n\nconst btnDelStyle = {\n    margin: \"10px 0\",\n    padding: \"10px\",\n    width: \"80%\"\n}\nconst btnEditStyle = {\n    margin: \"10px 0\",\n    padding: \"10px\",\n    width: \"80%\"\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}