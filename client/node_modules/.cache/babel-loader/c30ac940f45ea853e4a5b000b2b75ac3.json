{"ast":null,"code":"var _jsxFileName = \"/Users/yong/development/projects/rtv-mern-app/client/src/components/IssueCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport CommentForm from \"./CommentForm.js\";\nimport UpArrow from \"../images/icons8-up-48.png\";\nimport DownArrow from \"../images/icons8-down-48.png\";\nimport { UserContext } from \"../context/UserProvider.js\";\nimport { userAxios } from \"../context/UserProvider\";\nimport IssueForm from \"./IssueForm.js\";\nimport { HiThumbUp, HiThumbDown } from \"react-icons/hi\";\nimport { BiComment } from \"react-icons/bi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst style = {\n  card: `flex flex-col border p-2 m-2 rounded-lg w-72`\n};\nconst cardStyle = {\n  border: \"1px solid black\",\n  padding: \"2em\",\n  margin: \"2em\",\n  borderRadius: \"10px\",\n  width: \"300px\"\n};\nconst imgStyle = {\n  maxHeight: \"500px\",\n  maxWidth: \"500px\",\n  margin: \"12px 0\"\n};\nconst btnDelStyle = {\n  margin: \"10px 0\",\n  padding: \"10px\",\n  width: \"80%\"\n};\nconst btnEditStyle = {\n  margin: \"10px 0\",\n  padding: \"10px\",\n  width: \"80%\"\n};\n\nconst IssueCard = props => {\n  _s();\n\n  const {\n    title,\n    description,\n    _id,\n    comment,\n    imgUrl,\n    upvotes,\n    downvotes\n  } = props;\n  const {\n    deleteIssue,\n    getUserIssues,\n    editIssue\n  } = useContext(UserContext);\n  const [upvotesCount, setUpvotesCount] = useState(upvotes.length);\n  const [downvotesCount, setDownvotesCount] = useState(downvotes.length);\n  const [editToggle, setEditToggle] = useState(false);\n  useEffect(() => {\n    getUserIssues();\n  }, [downvotesCount, upvotesCount]);\n\n  const handleUpvote = () => {\n    userAxios.put(`/api/issue/upvote/${_id}`).then(res => {\n      console.log(`this is res.data.upvotes ${res.data.upvotes}`);\n      setUpvotesCount(res.data.upvotes.length);\n      setDownvotesCount(res.data.downvotes.length);\n    }).catch(err => console.log(err));\n  };\n\n  const handleDownvote = () => {\n    userAxios.put(`/api/issue/downvote/${_id}`).then(res => {\n      console.log(res.data.downvotes);\n      setDownvotesCount(res.data.downvotes.length);\n      setUpvotesCount(res.data.upvotes.length);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"issue\",\n    style: cardStyle,\n    children: !editToggle ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: \"25px\"\n        },\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: \"10px 0\"\n        },\n        children: description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imgUrl,\n        style: imgStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: btnDelStyle,\n        onClick: () => deleteIssue(_id),\n        children: \"delete issue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: btnEditStyle,\n        onClick: () => setEditToggle(prevToggle => !prevToggle),\n        children: \"edit issue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Upvote: \", upvotesCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: UpArrow,\n        style: {\n          width: \"36px\",\n          height: \"36px\"\n        },\n        onClick: handleUpvote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(HiThumbUp, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(HiThumbDown, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(BiComment, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Votes: \", upvotesCount + downvotesCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: DownArrow,\n        style: {\n          width: \"36px\",\n          height: \"36px\"\n        },\n        onClick: handleDownvote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Downvote: \", downvotesCount, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: comment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CommentForm, {\n        _id: _id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(IssueForm, {\n        title: title,\n        description: description,\n        imgUrl: imgUrl,\n        btnText: \"Submit Edit\",\n        _id: _id,\n        submit: editIssue,\n        handleClose: setEditToggle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditToggle(prevToggle => !prevToggle),\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(IssueCard, \"bKFUpGMrAAyLQolifAnLdf9gzvc=\");\n\n_c = IssueCard;\nexport default IssueCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"IssueCard\");","map":{"version":3,"names":["React","useContext","useState","useEffect","CommentForm","UpArrow","DownArrow","UserContext","userAxios","IssueForm","HiThumbUp","HiThumbDown","BiComment","style","card","cardStyle","border","padding","margin","borderRadius","width","imgStyle","maxHeight","maxWidth","btnDelStyle","btnEditStyle","IssueCard","props","title","description","_id","comment","imgUrl","upvotes","downvotes","deleteIssue","getUserIssues","editIssue","upvotesCount","setUpvotesCount","length","downvotesCount","setDownvotesCount","editToggle","setEditToggle","handleUpvote","put","then","res","console","log","data","catch","err","handleDownvote","fontSize","prevToggle","height"],"sources":["/Users/yong/development/projects/rtv-mern-app/client/src/components/IssueCard.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\"\nimport CommentForm from \"./CommentForm.js\"\nimport UpArrow from \"../images/icons8-up-48.png\"\nimport DownArrow from \"../images/icons8-down-48.png\"\nimport { UserContext } from \"../context/UserProvider.js\"\nimport { userAxios } from \"../context/UserProvider\"\nimport IssueForm from \"./IssueForm.js\"\nimport { HiThumbUp, HiThumbDown } from \"react-icons/hi\"\nimport { BiComment } from \"react-icons/bi\"\n\nconst style = {\n  card: `flex flex-col border p-2 m-2 rounded-lg w-72`,\n}\n\nconst cardStyle = {\n  border: \"1px solid black\",\n  padding: \"2em\",\n  margin: \"2em\",\n  borderRadius: \"10px\",\n  width: \"300px\",\n}\n\nconst imgStyle = {\n  maxHeight: \"500px\",\n  maxWidth: \"500px\",\n  margin: \"12px 0\",\n}\n\nconst btnDelStyle = {\n  margin: \"10px 0\",\n  padding: \"10px\",\n  width: \"80%\",\n}\nconst btnEditStyle = {\n  margin: \"10px 0\",\n  padding: \"10px\",\n  width: \"80%\",\n}\n\nconst IssueCard = (props) => {\n  const { title, description, _id, comment, imgUrl, upvotes, downvotes } = props\n  const { deleteIssue, getUserIssues, editIssue } = useContext(UserContext)\n  const [upvotesCount, setUpvotesCount] = useState(upvotes.length)\n  const [downvotesCount, setDownvotesCount] = useState(downvotes.length)\n  const [editToggle, setEditToggle] = useState(false)\n\n  useEffect(() => {\n    getUserIssues()\n  }, [downvotesCount, upvotesCount])\n\n  const handleUpvote = () => {\n    userAxios\n      .put(`/api/issue/upvote/${_id}`)\n      .then((res) => {\n        console.log(`this is res.data.upvotes ${res.data.upvotes}`)\n        setUpvotesCount(res.data.upvotes.length)\n        setDownvotesCount(res.data.downvotes.length)\n      })\n      .catch((err) => console.log(err))\n  }\n  const handleDownvote = () => {\n    userAxios\n      .put(`/api/issue/downvote/${_id}`)\n      .then((res) => {\n        console.log(res.data.downvotes)\n        setDownvotesCount(res.data.downvotes.length)\n        setUpvotesCount(res.data.upvotes.length)\n      })\n      .catch((err) => console.log(err))\n  }\n\n  return (\n    <div className='issue' style={cardStyle}>\n      {!editToggle ? (\n        <>\n          <h1 style={{ fontSize: \"25px\" }}>{title}</h1>\n          <p style={{ margin: \"10px 0\" }}>{description}</p>\n          <img src={imgUrl} style={imgStyle}></img>\n          <button style={btnDelStyle} onClick={() => deleteIssue(_id)}>\n            delete issue\n          </button>\n          <button\n            style={btnEditStyle}\n            onClick={() => setEditToggle((prevToggle) => !prevToggle)}\n          >\n            edit issue\n          </button>\n          <p>Upvote: {upvotesCount}</p>\n          <img\n            src={UpArrow}\n            style={{ width: \"36px\", height: \"36px\" }}\n            onClick={handleUpvote}\n          />\n          <HiThumbUp />\n          <HiThumbDown />\n          <BiComment />\n\n          <p>Total Votes: {upvotesCount + downvotesCount}</p>\n          <img\n            src={DownArrow}\n            style={{ width: \"36px\", height: \"36px\" }}\n            onClick={handleDownvote}\n          />\n          <p>Downvote: {downvotesCount} </p>\n          <h4>{comment}</h4>\n          <CommentForm _id={_id} />\n        </>\n      ) : (\n        <>\n          <IssueForm\n            title={title}\n            description={description}\n            imgUrl={imgUrl}\n            btnText='Submit Edit'\n            _id={_id}\n            submit={editIssue}\n            handleClose={setEditToggle}\n          />\n          <button onClick={() => setEditToggle((prevToggle) => !prevToggle)}>\n            Close\n          </button>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default IssueCard\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}